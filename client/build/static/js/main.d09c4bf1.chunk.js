(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,a){e.exports=a(87)},48:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),o=a.n(l),c=a(7),s=a(8),i=a(10),u=a(9),m=a(11),p=a(20),h=a(5),d=(a(48),a(12)),b=a(23),E=a(88),f=a(91),g=a(92),O=a(18),j=a.n(O),y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;e.setState(Object(b.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),console.log("handleSubmit"),j.a.post("/api/login",{email:e.state.email,password:e.state.password}).then(function(t){console.log("login response: "),console.log(t),200===t.status&&(e.props.updateUser({loggedIn:!0,firstName:t.data.firstName}),e.setState({redirectTo:"/home"}))}).catch(function(e){console.log("login error: "),console.log(e)})},e.state={email:" ",password:" ",redirectTo:null},e.handleSubmit=e.handleSubmit.bind(Object(d.a)(Object(d.a)(e))),e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(h.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"100px"}},"Login"),r.a.createElement(E.a,{style:{border:"solid"}},r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,{controlId:"formBasicEmail"},r.a.createElement(f.a.Label,null,"Email address"),r.a.createElement(f.a.Control,{name:"email",type:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Enter email"}),r.a.createElement(f.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(f.a.Group,{controlId:"formBasicPassword"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{name:"password",type:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),r.a.createElement(g.a,{variant:"primary",type:"submit"},"Login"))))}}]),t}(n.Component),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={loggedIn:!1,firstname:null},e.getUser=e.getUser.bind(Object(d.a)(Object(d.a)(e))),e.componentDidMount=e.componentDidMount.bind(Object(d.a)(Object(d.a)(e))),e.updateUser=e.updateUser.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"updateUser",value:function(e){this.setState(e)}},{key:"getUser",value:function(){var e=this;j.a.get("/api/login").then(function(t){console.log("Get user resopnse: "),console.log(t.data),t.data.user?(console.log("Get user: there is a user saved in the server session: "),e.setState({loggedIn:!0,firstName:t.data.user.firstName})):(console.log("Get user: no user"),e.setState({loggedIn:!1,firstname:null}))})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{updateUser:this.updateUser}),r.a.createElement("a",{href:"/createuser"},"Create Account"))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",phone:"",email:"",password:""},a.handleInput=function(e){e.preventDefault(),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_NOT_SECRET_CODE:"AIzaSyB3Z4B3cVWNyQC9s3TNFC9zZBVtKX0uzVw"}));var t=e.target,n=t.name,r=t.value;a.setState(Object(b.a)({},n,r))},a.submit=function(e){e.preventDefault(),j.a.post("/api/create-user",a.state).then(function(e){console.log(e),e.data?(console.log("successful signup"),a.setState({redirectTo:"/"})):console.log("sign-up error")}).catch(function(e){console.log("Sign up server error"),console.log(e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"100px"}},"Create Account"),r.a.createElement(E.a,{style:{border:"solid"}},r.a.createElement(f.a,{onSubmit:this.submit},r.a.createElement(f.a.Group,{controlId:"formBasicFirstName"},r.a.createElement(f.a.Label,null,"First Name"),r.a.createElement(f.a.Control,{name:"firstName",type:"firstName",onInput:this.handleInput,placeholder:"First Name"})),r.a.createElement(f.a.Group,{controlId:"formBasicLastName"},r.a.createElement(f.a.Label,null,"Last Name"),r.a.createElement(f.a.Control,{onInput:this.handleInput,name:"lastName",type:"lastName",placeholder:"Last Name"})),r.a.createElement(f.a.Group,{controlId:"formBasicPhoneNumber"},r.a.createElement(f.a.Label,null,"Phone Number"),r.a.createElement(f.a.Control,{onInput:this.handleInput,name:"phone",type:"phoneNumber",placeholder:"Phone Number"})),r.a.createElement(f.a.Group,{controlId:"formBasicEmail"},r.a.createElement(f.a.Label,null,"Email address"),r.a.createElement(f.a.Control,{onInput:this.handleInput,name:"email",type:"email",placeholder:"Enter email"}),r.a.createElement(f.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(f.a.Group,{controlId:"formBasicPassword"},r.a.createElement(f.a.Label,null,"Password"),r.a.createElement(f.a.Control,{onInput:this.handleInput,name:"password",type:"password",placeholder:"Password"})),r.a.createElement(g.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement(f.a.Text,{className:"text-muted"})))}}]),t}(n.Component),N=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement("a",{href:"/"},"Back to Login"))}}]),t}(n.Component),w=a(89);var I=function(){return r.a.createElement(w.a,{fluid:!0},r.a.createElement(E.a,null,r.a.createElement("h1",null,"Fluid jumbotron"),r.a.createElement("p",null,"This is a modified jumbotron that occupies the entire horizontal space of its parent.")))},S=a(90),k=a(42);var B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"100px"}},"Hello "),r.a.createElement(I,null),r.a.createElement(E.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,null,r.a.createElement(p.b,{to:"/booking"},"Blog")),r.a.createElement(k.a,null,"Make A booking"),r.a.createElement(k.a,null,"Create Photographer Profile"))))},x=a(21),L=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(x.Map,{style:{width:"400px",height:"400px"},google:this.props.google,zoom:14},r.a.createElement(x.Marker,{onClick:this.onMarkerClick,name:"Current location"}),r.a.createElement(x.InfoWindow,{onClose:this.onInfoWindowClose}))}}]),t}(n.Component),P=Object(x.GoogleApiWrapper)({apiKey:"AIzaSyB3Z4B3cVWNyQC9s3TNFC9zZBVtKX0uzVw"})(L),T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"100px"}},"Booking"),r.a.createElement(P,null))}}]),t}(n.Component),F=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:C})),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/createuser",component:N})),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/home",component:B})),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/booking",component:T}))))}}]),t}(n.Component);a(86);o.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.d09c4bf1.chunk.js.map